(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{94185:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(809),s=n.n(a),l=n(92447),i=n(74047),o=n(52700),c=n(4706),d=n(8127),h=n(44102),u=n(20775),g=n(26265),p=n(67294),m=n(35766),Z=n(60345),v=n(5573),f=n(60416),x=n(21581),j=n(68788),y=n(48237),b=n(66670),G=n(38108),E=n(3542),N=n(27904);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var k=[{key:"m",text:"Male",value:"Male"},{key:"f",text:"Female",value:"Female"},{key:"o",text:"Other",value:"Other"}],w=[{key:"f",text:"Food",value:"Food"},{key:"m",text:"Medical",value:"Medical"},{key:"e",text:"Environmental",value:"Environmental"},{key:"o",text:"Others",value:"Others"}],S=function(e){(0,d.Z)(n,e);var t=C(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,g.Z)((0,c.Z)(e),"state",{ic:"",name:"",phone:"",gender:"",dob:"",height:"",weight:"",houseaddr:"",bloodgroup:"",allergies:"",medication:"",emergencyName:"",emergencyContact:"",loading:!1,errorMessage:""}),(0,g.Z)((0,c.Z)(e),"handleGender",(function(t,n){var r=n.value;return e.setState({gender:r})})),(0,g.Z)((0,c.Z)(e),"handleAllergies",(function(t,n){var r=n.value;return e.setState({allergies:r})})),(0,g.Z)((0,c.Z)(e),"onSubmit",function(){var t=(0,l.Z)(s().mark((function t(n){var r,a,l,i,o,c,d,h,u,g,p,m,Z,v,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.state,a=r.ic,l=r.name,i=r.phone,o=r.gender,c=r.dob,d=r.height,h=r.weight,u=r.houseaddr,g=r.bloodgroup,p=r.allergies,m=r.medication,Z=r.emergencyName,v=r.emergencyContact,e.setState({loading:!0,errorMessage:""}),t.prev=3,t.next=6,E.Z.eth.getAccounts();case 6:return f=t.sent,t.next=9,G.Z.methods.editDetails(a,l,i,o,c,d,h,u,g,p,m,Z,v).send({from:f[0]});case 9:alert("Account created successfully!"),N.Router.pushRoute("/list"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message}),alert("Account already exists");case 17:e.setState({loading:!1,ic:"",name:"",phone:"",gender:"",dob:"",height:"",weight:"",houseaddr:"",bloodgroup:"",allergies:"",medication:"",emergencyName:"",emergencyContact:""});case 18:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this;return(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(m.Z,{padded:!0,children:(0,r.jsx)("h1",{children:"Edit Record"})}),(0,r.jsxs)(m.Z,{children:[(0,r.jsx)("h2",{style:{marginTop:"20px",marginBottom:"30px"},children:"General Information"}),(0,r.jsx)(Z.Z,{clearing:!0}),(0,r.jsxs)(v.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,r.jsxs)(v.Z.Group,{widths:"equal",children:[(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"IC"}),(0,r.jsx)(f.Z,{placeholder:"Eg. 001234010234",value:this.state.ic,onChange:function(t){return e.setState({ic:t.target.value})}})]}),(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Full Name"}),(0,r.jsx)(f.Z,{placeholder:"Eg. John Smith",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})]}),(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Phone"}),(0,r.jsx)(f.Z,{placeholder:"Eg. 0123456789",value:this.state.phone,onChange:function(t){return e.setState({phone:t.target.value})}})]})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(v.Z.Group,{widths:"equal",children:[(0,r.jsx)(v.Z.Field,{label:"Gender",control:x.Z,options:k,onChange:this.handleGender}),(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Date of Birth"}),(0,r.jsx)(f.Z,{placeholder:"Eg. 01/01/1997",value:this.state.dob,onChange:function(t){return e.setState({dob:t.target.value})}})]}),(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Height"}),(0,r.jsx)(f.Z,{placeholder:"Eg. 183",label:{basic:!0,content:"cm"},labelPosition:"right",value:this.state.height,onChange:function(t){return e.setState({height:t.target.value})}})]}),(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Weight"}),(0,r.jsx)(f.Z,{placeholder:"Eg. 65",label:{basic:!0,content:"kg"},labelPosition:"right",value:this.state.weight,onChange:function(t){return e.setState({weight:t.target.value})}})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)(v.Z.Group,{widths:"equal",children:(0,r.jsx)(v.Z.TextArea,{label:"House Address",placeholder:"Eg. 1234, Jalan Seksyen 1/3, 31900 Kampar, Perak",value:this.state.houseaddr,onChange:function(t){return e.setState({houseaddr:t.target.value})}})}),(0,r.jsx)("br",{}),(0,r.jsx)("h2",{style:{marginTop:"20px",marginBottom:"30px"},children:"Medical History"}),(0,r.jsx)(Z.Z,{clearing:!0}),(0,r.jsxs)(v.Z.Group,{widths:"equal",children:[(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Blood Group"}),(0,r.jsx)(f.Z,{placeholder:"Eg. A-",value:this.state.bloodgroup,onChange:function(t){return e.setState({bloodgroup:t.target.value})}})]}),(0,r.jsx)(v.Z.Field,{label:"Allergies",control:x.Z,options:w,onChange:this.handleAllergies})]}),(0,r.jsx)("br",{}),(0,r.jsx)(v.Z.Group,{widths:"equal",children:(0,r.jsx)(v.Z.TextArea,{label:"Current Medications",placeholder:"Eg. Antidepressants",value:this.state.medication,onChange:function(t){return e.setState({medication:t.target.value})}})}),(0,r.jsx)("br",{}),(0,r.jsx)("h2",{style:{marginTop:"20px",marginBottom:"30px"},children:"Emergency Contact"}),(0,r.jsx)(Z.Z,{clearing:!0}),(0,r.jsxs)(v.Z.Group,{widths:"equal",children:[(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Emergency Contact Name"}),(0,r.jsx)(f.Z,{placeholder:"Eg. Taylor Smith",value:this.state.emergencyName,onChange:function(t){return e.setState({emergencyName:t.target.value})}})]}),(0,r.jsxs)(v.Z.Field,{children:[(0,r.jsx)("label",{children:"Emergency Contact Phone"}),(0,r.jsx)(f.Z,{placeholder:"Eg. 0124995002",value:this.state.emergencyContact,onChange:function(t){return e.setState({emergencyContact:t.target.value})}})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)(j.Z,{error:!0,header:"Oops!",content:this.state.errorMessage}),(0,r.jsx)(y.Z,{primary:!0,loading:this.state.loading,children:"Edit"})]})]})]})}}]),n}(p.Component);t.default=S},99962:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-patient",function(){return n(94185)}])},68788:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(22122),a=n(93552),s=n(55288),l=n(86010),i=n(67294),o=n(92063),c=n(28935),d=n(12519),h=n(92248),u=n(25071),g=n(65382);function p(e){var t=e.children,n=e.className,a=e.content,s=(0,l.Z)("content",n),o=(0,c.Z)(p,e),u=(0,d.Z)(p,e);return i.createElement(u,(0,r.Z)({},o,{className:s}),h.kK(t)?a:t)}p.handledProps=["as","children","className","content"],p.propTypes={};var m=p;function Z(e){var t=e.children,n=e.className,a=e.content,s=(0,l.Z)("header",n),o=(0,c.Z)(Z,e),u=(0,d.Z)(Z,e);return i.createElement(u,(0,r.Z)({},o,{className:s}),h.kK(t)?a:t)}Z.handledProps=["as","children","className","content"],Z.propTypes={},Z.create=(0,u.u5)(Z,(function(e){return{content:e}}));var v=Z,f=n(36744);function x(e){var t=e.children,n=e.className,a=e.content,s=(0,l.Z)("content",n),o=(0,c.Z)(x,e),u=(0,d.Z)(x,e);return i.createElement(u,(0,r.Z)({},o,{className:s}),h.kK(t)?a:t)}x.handledProps=["as","children","className","content"],x.propTypes={},x.defaultProps={as:"li"},x.create=(0,u.u5)(x,(function(e){return{content:e}}));var j=x;function y(e){var t=e.children,n=e.className,a=e.items,s=(0,l.Z)("list",n),o=(0,c.Z)(y,e),u=(0,d.Z)(y,e);return i.createElement(u,(0,r.Z)({},o,{className:s}),h.kK(t)?(0,f.Z)(a,j.create):t)}y.handledProps=["as","children","className","items"],y.propTypes={},y.defaultProps={as:"ul"},y.create=(0,u.u5)(y,(function(e){return{items:e}}));var b=y,G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,a=e.children,p=e.className,Z=e.color,f=e.compact,x=e.content,j=e.error,y=e.floating,G=e.header,E=e.hidden,N=e.icon,C=e.info,k=e.list,w=e.negative,S=e.onDismiss,F=e.positive,P=e.size,T=e.success,A=e.visible,_=e.warning,K=(0,l.Z)("ui",Z,P,(0,o.lG)(f,"compact"),(0,o.lG)(j,"error"),(0,o.lG)(y,"floating"),(0,o.lG)(E,"hidden"),(0,o.lG)(N,"icon"),(0,o.lG)(C,"info"),(0,o.lG)(w,"negative"),(0,o.lG)(F,"positive"),(0,o.lG)(T,"success"),(0,o.lG)(A,"visible"),(0,o.lG)(_,"warning"),(0,o.sU)(n,"attached"),"message",p),M=S&&i.createElement(g.Z,{name:"close",onClick:this.handleDismiss}),D=(0,c.Z)(t,this.props),R=(0,d.Z)(t,this.props);return h.kK(a)?i.createElement(R,(0,r.Z)({},D,{className:K}),M,g.Z.create(N,{autoGenerateKey:!1}),(!(0,s.Z)(G)||!(0,s.Z)(x)||!(0,s.Z)(k))&&i.createElement(m,null,v.create(G,{autoGenerateKey:!1}),b.create(k,{autoGenerateKey:!1}),(0,u.BU)(x,{autoGenerateKey:!1}))):i.createElement(R,(0,r.Z)({},D,{className:K}),M,a)},t}(i.Component);G.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],G.propTypes={},G.Content=m,G.Header=v,G.List=b,G.Item=j},60345:function(e,t,n){"use strict";var r=n(22122),a=n(86010),s=n(67294),l=n(92063),i=n(28935),o=n(12519),c=n(92248);function d(e){var t=e.children,n=e.className,h=e.clearing,u=e.content,g=e.fitted,p=e.hidden,m=e.horizontal,Z=e.inverted,v=e.section,f=e.vertical,x=(0,a.Z)("ui",(0,l.lG)(h,"clearing"),(0,l.lG)(g,"fitted"),(0,l.lG)(p,"hidden"),(0,l.lG)(m,"horizontal"),(0,l.lG)(Z,"inverted"),(0,l.lG)(v,"section"),(0,l.lG)(f,"vertical"),"divider",n),j=(0,i.Z)(d,e),y=(0,o.Z)(d,e);return s.createElement(y,(0,r.Z)({},j,{className:x}),c.kK(t)?u:t)}d.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],d.propTypes={},t.Z=d}},function(e){e.O(0,[774,543,756,218,670,888,179],(function(){return t=99962,e(e.s=t);var t}));var t=e.O();_N_E=t}]);